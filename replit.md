# replit.md

## Overview

This is a **To-Do List Application** with a skeuomorphic notepad design. Users can create, edit, complete, and delete tasks on a styled paper notepad interface. The app features a workflow with three states: planning (adding tasks), running (executing tasks with a timer), and finished (celebrating completion with confetti and a trophy modal). It includes customizable paper and background colors, audio feedback effects, and smooth animations.

## User Preferences

Preferred communication style: Simple, everyday language.

## System Architecture

### Frontend Architecture
- **Framework**: React 18 with TypeScript
- **Routing**: Wouter (lightweight React router)
- **State Management**: TanStack React Query for server state synchronization
- **UI Components**: shadcn/ui component library built on Radix UI primitives
- **Styling**: Tailwind CSS with custom CSS variables for theming
- **Animations**: Framer Motion for smooth UI transitions
- **Build Tool**: Vite with hot module replacement

### Backend Architecture
- **Runtime**: Node.js with Express.js
- **Language**: TypeScript (ESM modules)
- **API Pattern**: RESTful endpoints defined in shared route definitions
- **Validation**: Zod schemas shared between client and server

### Data Storage
- **Database**: PostgreSQL
- **ORM**: Drizzle ORM with drizzle-zod for schema-to-validation integration
- **Schema Location**: `shared/schema.ts` contains all table definitions
- **Tables**:
  - `todos`: Task items with content, completion status, and order
  - `app_state`: Singleton table storing app title, timer status, and color preferences

### Project Structure
```
├── client/           # React frontend
│   └── src/
│       ├── components/   # UI components including Notepad and TrophyModal
│       ├── hooks/        # Custom hooks for data fetching
│       ├── pages/        # Route pages
│       └── lib/          # Utilities and query client
├── server/           # Express backend
│   ├── index.ts      # Server entry point
│   ├── routes.ts     # API route handlers
│   ├── storage.ts    # Database access layer
│   └── db.ts         # Database connection
├── shared/           # Shared code between client/server
│   ├── schema.ts     # Drizzle table definitions and types
│   └── routes.ts     # API route contracts with Zod schemas
└── migrations/       # Database migrations (generated by drizzle-kit)
```

### API Design
Routes are defined in `shared/routes.ts` with full type safety:
- `GET /api/todos` - List all todos
- `POST /api/todos` - Create a todo
- `PATCH /api/todos/:id` - Update a todo
- `DELETE /api/todos/:id` - Delete a todo
- `POST /api/todos/reorder` - Reorder todos
- `GET /api/app-state` - Get app configuration
- `PATCH /api/app-state` - Update app configuration
- `POST /api/app-state/reset` - Reset to defaults

### Development vs Production
- **Development**: Vite dev server with HMR proxied through Express
- **Production**: Static files served from `dist/public`, server bundled with esbuild

## External Dependencies

### Database
- **PostgreSQL**: Primary data store, connected via `DATABASE_URL` environment variable
- **Connection**: Uses `pg` Pool with Drizzle ORM wrapper

### Key NPM Packages
- **@tanstack/react-query**: Server state management and caching
- **drizzle-orm / drizzle-kit**: Type-safe database ORM and migration tooling
- **framer-motion**: Animation library for UI transitions
- **canvas-confetti**: Celebration effects when completing all tasks
- **date-fns**: Date formatting and time calculations

### Fonts (External)
- Google Fonts: "Architects Daughter" (handwriting style), "DM Sans" (UI text)

### Replit-specific Plugins
- `@replit/vite-plugin-runtime-error-modal`: Error overlay in development
- `@replit/vite-plugin-cartographer`: Development tooling
- `@replit/vite-plugin-dev-banner`: Development banner